<app-header></app-header>

<div class="full-width-image">
  <img src="assets/bolts.png" alt="Banner Image">

  <div class="image-overlay-bottom">
    <div class="overlay-text">
      Thank you for your order!
    </div>
  </div>
</div>

<div class="success-container">
  <div class="success-header">
    <span class="success-icon">✔</span>
    <h1>Order Placed – Payment Successful</h1>
  </div>

  <p>
    Thanks for your payment, a confirmation email has been sent to
    <strong>{{ order?.customer?.email }}</strong>
  </p>

  <div class="summary-box">
    <div class="order-summary">
      <h3>Order Summary:</h3>
      <p><strong>Order Number:</strong> {{ order?.id }}</p>
      <p><strong>Date:</strong> {{ order?.date | date: 'longDate' }}</p>
      <p><strong>Payment Method:</strong> {{ order?.method }}</p>
      <p><strong>Total Paid:</strong> {{ order?.amount | currency: 'CAD' }}</p>
    </div>

    <div class="shipping-info">
      <h3>Shipping Information:</h3>
      <p>{{ order?.customer?.fullName }}</p>
      <p>{{ order?.customer?.phone }}</p>
      <p>{{ order?.customer?.address }}</p>
      <p>{{ order?.customer?.city }}, {{ order?.customer?.postalCode }}</p>
    </div>
  </div>

  <!-- FREE FALLBACK: mailto + copy -->
  <div class="actions" style="margin-top: 14px; gap: 10px; display: flex; flex-wrap: wrap;">
    <a class="btn" [href]="mailtoUrl" *ngIf="mailtoUrl">
      Email order summary to us
    </a>

    <button class="btn" type="button" (click)="copySummary()" *ngIf="summaryText">
      {{ copied ? 'Copied!' : 'Copy order summary' }}
    </button>

    <a routerLink="/" class="btn">Back to Home</a>
  </div>
</div>

<app-footer></app-footer>
